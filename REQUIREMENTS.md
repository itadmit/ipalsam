
## 🏗️ עקרונות ארכיטקטורה - "מהיר כמו PHP"

### 1. Server Components 80%+
```
┌─────────────────────────────────────────────────────────────┐
│  כל דף = Server Component                                   │
│  HTML מוכן מהשרת → אין hydration כבד → אפס לאגים            │
├─────────────────────────────────────────────────────────────┤
│  "use client" רק ל:                                         │

│  • טופס חיפוש                                               │

│  • תפריט המבורגר (מובייל)                                   │
└─────────────────────────────────────────────────────────────┘
```

### 2. לחיצה = עמוד מיידי
```
• Link prefetch - Next.js טוען לינקים מראש
• ISR caching - דפי מוצרים מוכנים מראש
• Streaming - תוכן נטען בחלקים
• אין state גלובלי מורכב - הכל מגיע מהשרת
```

### 3. DB מהיר על Serverless
```
Neon PostgreSQL + Connection Pooling
→ כל request מקבל חיבור מוכן
→ אין latency של פתיחת חיבור
→ מרגיש מיידי
```

### 4. Optimistic UI
```
לחיצה על "הוסף לעגלה":
1. מיד מראים +1 בעגלה (optimistic)
2. ברקע: Server Action שומר ל-DB
3. אם נכשל - מחזירים אחורה

התוצאה: מרגיש כמו אפליקציה, לא כמו אתר
```
